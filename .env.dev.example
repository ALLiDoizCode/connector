# Development environment variables for M2M project
# Copy this file to .env.dev to use these defaults
# Override values locally without committing changes
#
# Environment Variable Precedence:
# 1. Shell environment variables (highest priority)
# 2. .env.dev file values
# 3. Docker Compose file defaults (e.g., ${VAR:-default})

# ===== Base L2 Fork Configuration =====

# Base Sepolia RPC endpoint for forking blockchain state
# Default: Public Base Sepolia RPC (may have rate limits)
BASE_SEPOLIA_RPC_URL=https://sepolia.base.org

# Pinned block number for consistent state across developer machines
# Update this block number periodically to get newer testnet state
# Current block: 20702367 (update every 1-2 weeks for recent state)
FORK_BLOCK_NUMBER=20702367

# Alternative RPC endpoints (avoid rate limits):
# Uncomment and configure one of these if sepolia.base.org has rate limits or downtime
#
# Alchemy (requires free API key from https://www.alchemy.com/)
# BASE_SEPOLIA_RPC_URL=https://base-sepolia.g.alchemy.com/v2/YOUR_API_KEY
#
# Tenderly (free tier available at https://tenderly.co/)
# BASE_SEPOLIA_RPC_URL=https://base-sepolia.gateway.tenderly.co
#
# Infura (requires free project ID from https://infura.io/)
# BASE_SEPOLIA_RPC_URL=https://base-sepolia.infura.io/v3/YOUR_PROJECT_ID

# How to get latest Base Sepolia block number:
# Run this command to fetch the current block from the RPC endpoint:
#   curl https://sepolia.base.org -X POST -H 'Content-Type: application/json' \
#     --data '{"jsonrpc":"2.0","method":"eth_blockNumber","params":[],"id":1}'
#
# The response will be in hex format (e.g., "0x13c377f"). Convert to decimal:
#   echo $((16#13c377f))  # Outputs: 20702367
#
# Update FORK_BLOCK_NUMBER above with the decimal value for recent testnet state.

# ===== Connector Configuration =====

# Connector logging level
# Set to 'debug' for verbose connector logging during development
# Options: debug, info, warn, error
LOG_LEVEL=info

# Node environment mode
# Development mode enables hot-reload and additional debugging features
NODE_ENV=development

# Dashboard telemetry enabled flag
# Set to 'true' to enable dashboard telemetry (or use make dev-up-dashboard)
DASHBOARD_ENABLED=false

# ===== Development Workflow Configuration =====

# Hot-reload enabled flag
# Hot-reload automatically restarts connectors when code changes detected
ENABLE_HOT_RELOAD=true

# Auto-restart connectors on crash during development
AUTO_RESTART=true
