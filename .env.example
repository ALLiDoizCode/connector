# ============================================================================
# M2M ILP Connector Environment Variables Configuration Template
# ============================================================================
#
# SECURITY WARNING: NEVER commit .env file to version control!
# Copy this file to .env and fill in actual values for local development.
#
# ============================================================================

# ----------------------------------------------------------------------------
# Node Configuration
# ----------------------------------------------------------------------------
# Unique identifier for this connector instance (used in audit logging)
NODE_ID=connector-1

# ----------------------------------------------------------------------------
# Key Management Backend Selection
# ----------------------------------------------------------------------------
# Backend type for key management:
# - env: Environment variables (development only - NOT secure for production)
# - aws-kms: AWS Key Management Service (production)
# - gcp-kms: Google Cloud Key Management Service (production)
# - azure-kv: Azure Key Vault (production)
# - hsm: Hardware Security Module via PKCS#11 (production)
#
# Default: env
KEY_BACKEND=env

# ----------------------------------------------------------------------------
# Environment Variable Backend (KEY_BACKEND=env)
# ----------------------------------------------------------------------------
# Private keys stored in environment variables (DEVELOPMENT ONLY)
# WARNING: Insecure - use KMS/HSM for production deployments

# EVM private key (hex format with 0x prefix)
# Example Anvil test key (DO NOT use in production):
# EVM_PRIVATE_KEY=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
EVM_PRIVATE_KEY=

# XRP seed (XRPL seed format starting with 's')
# Example: snoPBrXtMeMyMHUVTgbuqAfg1SUTb
XRP_SEED=

# ----------------------------------------------------------------------------
# AWS KMS Backend (KEY_BACKEND=aws-kms)
# ----------------------------------------------------------------------------
# AWS region where KMS keys are located
AWS_REGION=us-east-1

# AWS KMS key IDs (ARN, alias, or key ID format)
# ARN format: arn:aws:kms:region:account-id:key/key-id
# Alias format: alias/key-alias
# Key ID format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
AWS_KMS_EVM_KEY_ID=
AWS_KMS_XRP_KEY_ID=

# AWS credentials (optional - uses IAM role if not provided)
# AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
# AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY

# ----------------------------------------------------------------------------
# GCP KMS Backend (KEY_BACKEND=gcp-kms)
# ----------------------------------------------------------------------------
# GCP project ID
GCP_PROJECT_ID=

# GCP KMS location (e.g., 'us-east1', 'global')
GCP_LOCATION_ID=us-east1

# GCP KMS key ring name
GCP_KEY_RING_ID=connector-keyring

# GCP KMS crypto key names for EVM and XRP signing
GCP_KMS_EVM_KEY_ID=evm-signing-key
GCP_KMS_XRP_KEY_ID=xrp-signing-key

# ----------------------------------------------------------------------------
# Azure Key Vault Backend (KEY_BACKEND=azure-kv)
# ----------------------------------------------------------------------------
# Azure Key Vault URL
# Format: https://<vault-name>.vault.azure.net/
AZURE_VAULT_URL=

# Azure Key Vault key names
AZURE_EVM_KEY_NAME=evm-signing-key
AZURE_XRP_KEY_NAME=xrp-signing-key

# Azure service principal credentials (optional - uses DefaultAzureCredential if not provided)
# AZURE_TENANT_ID=00000000-0000-0000-0000-000000000000
# AZURE_CLIENT_ID=00000000-0000-0000-0000-000000000000
# AZURE_CLIENT_SECRET=your-client-secret

# ----------------------------------------------------------------------------
# HSM Backend (KEY_BACKEND=hsm)
# ----------------------------------------------------------------------------
# Path to PKCS#11 library
# SoftHSM example: /usr/lib/softhsm/libsofthsm2.so
# Hardware HSM examples:
# - Thales/Gemalto: /opt/nfast/toolkits/pkcs11/libcknfast.so
# - SafeNet: /usr/lib/libCryptoki2_64.so
HSM_PKCS11_LIBRARY_PATH=/usr/lib/softhsm/libsofthsm2.so

# HSM slot ID (0-based index)
# Use pkcs11-tool --list-slots to find available slots
HSM_SLOT_ID=0

# HSM PIN (CRITICAL: Load from secure secret management system in production)
# NEVER hardcode PIN in code or commit to version control
HSM_PIN=

# HSM key labels for EVM and XRP signing key pairs
HSM_EVM_KEY_LABEL=evm-signing-key
HSM_XRP_KEY_LABEL=xrp-signing-key

# ============================================================================
# Additional Connector Configuration
# ============================================================================
# These variables are for other connector features.
# See docs/architecture/configuration.md for full reference.

# BTP Server Port (default: 3000)
# BTP_SERVER_PORT=3000

# Health Check Port (default: 8080)
# HEALTH_CHECK_PORT=8080

# Log Level (default: info)
# LOG_LEVEL=info

# TigerBeetle Configuration (if settlement enabled)
# TIGERBEETLE_CLUSTER_ID=0
# TIGERBEETLE_REPLICAS=localhost:3000

# Blockchain RPC URLs (if blockchain integration enabled)
# BASE_RPC_URL=http://anvil:8545
# XRPL_RPC_URL=http://rippled:5005
