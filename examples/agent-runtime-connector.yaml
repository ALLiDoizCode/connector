# Connector Configuration for Agent Runtime Deployment
#
# This configuration sets up a connector that forwards local delivery
# packets to an external Agent Runtime for handling.
#
# The Agent Runtime handles:
#   - SPSP (Simple Payment Setup Protocol) endpoints
#   - STREAM fulfillment computation
#   - Business logic integration
#
# Packets destined for addresses matching "g.connector.agent.*" are
# forwarded to the Agent Runtime via HTTP.

# Connector identity
nodeId: connector
btpServerPort: 3000
healthCheckPort: 8080
logLevel: info

# Deployment environment
environment: development

# No peers in this simple example
# Add peers as needed for multi-hop routing
peers: []

# Routes for local delivery
# Packets to g.connector.agent.* are delivered locally (forwarded to agent runtime)
routes:
  - prefix: g.connector.agent
    nextHop: local
    priority: 100

# Local delivery configuration
# When enabled, packets routed to 'local' are forwarded to the Agent Runtime
# instead of using the built-in auto-fulfill stub
localDelivery:
  enabled: true
  handlerUrl: http://agent-runtime:3100
  timeout: 30000

# Settlement configuration (optional)
# Enable settlement recording with TigerBeetle
settlement:
  enableSettlement: true
  connectorFeePercentage: 0.1
  tigerBeetleClusterId: 0
  tigerBeetleReplicas:
    - tigerbeetle:3000

# Explorer UI configuration
explorer:
  enabled: true
  port: 3001
  retentionDays: 7
  maxEvents: 100000
