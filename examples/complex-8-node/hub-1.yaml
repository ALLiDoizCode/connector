# Complex 8-Node Hierarchical Topology: Hub-1
# Topology: Hub-1 ↔ Hub-2 (inter-hub link)
#           Hub-1 ← Spoke-1a, Spoke-1b, Spoke-1c
#
# Hub-1 is one of two top-level hubs in a hierarchical topology.
# It accepts connections from 3 spokes and maintains a bidirectional
# peering with Hub-2 for inter-hub traffic routing.

nodeId: hub-1
btpServerPort: 3000
logLevel: info
healthCheckPort: 8080

# Peer Connections
# Hub-1 connects to Hub-2 (bidirectional inter-hub link)
# Spokes connect TO hub-1, so they're not in peers array
peers:
  - id: hub-2
    url: ws://hub-2:3001
    authToken: secret-hub1-to-hub2

# Routing Table
# Routes to local spokes (spoke-1a, spoke-1b, spoke-1c)
# Routes to Hub-2 destinations via inter-hub link
routes:
  - prefix: g.hub1
    nextHop: hub-1
    priority: 0

  # Local spokes (Hub-1's cluster)
  - prefix: g.spoke1a
    nextHop: spoke-1a
    priority: 0

  - prefix: g.spoke1b
    nextHop: spoke-1b
    priority: 0

  - prefix: g.spoke1c
    nextHop: spoke-1c
    priority: 0

  # Hub-2
  - prefix: g.hub2
    nextHop: hub-2
    priority: 0

  # Hub-2's spokes (routed via Hub-2)
  - prefix: g.spoke2a
    nextHop: hub-2
    priority: 0

  - prefix: g.spoke2b
    nextHop: hub-2
    priority: 0

  - prefix: g.spoke2c
    nextHop: hub-2
    priority: 0
