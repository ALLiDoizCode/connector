# Hub-and-Spoke Topology: Spoke 1
# Topology: Hub ‚Üê Spoke1 (this node)
#
# This is spoke-1 in a hub-and-spoke topology.
# Spoke nodes connect only to the central hub.
# All traffic to other spokes or external destinations is routed through the hub.
#
# Network Flow:
# - Connects to hub connector
# - All outbound traffic sent to hub for routing

# Node Identity
nodeId: spoke-1
btpServerPort: 3001
logLevel: info

# Optional Configuration
healthCheckPort: 8080

# Peer Connections
# Spoke connects only to the hub
peers:
  - id: connector-hub
    url: ws://connector-hub:3000
    authToken: secret-spoke1-to-hub

# Routing Table
# All traffic routed through the hub (default route)
# This includes traffic to other spokes and external destinations
routes:
  - prefix: g.spoke1
    nextHop: spoke-1
    priority: 0

  - prefix: g.spoke2
    nextHop: connector-hub
    priority: 0

  - prefix: g.spoke3
    nextHop: connector-hub
    priority: 0

  # Catch-all route - send everything else to hub
  - prefix: g
    nextHop: connector-hub
    priority: 0
