# Agent Society ClusterIP Service
# Routes traffic to BLS HTTP endpoint on port 3100
# The connector's agent-runtime middleware connects here for payment handling
apiVersion: v1
kind: Service
metadata:
  name: agent-society
  namespace: agent-society
  labels:
    app.kubernetes.io/name: agent-society
    app.kubernetes.io/component: agent-society
spec:
  type: ClusterIP
  selector:
    app.kubernetes.io/name: agent-society
    app.kubernetes.io/component: agent-society
  ports:
    - name: http
      port: 3100
      targetPort: http
      protocol: TCP
---
# Agent Society Relay Headless Service
# Provides stable DNS names for Nostr relay WebSocket peer discovery
# Each pod is directly addressable for peer-to-peer relay communication
apiVersion: v1
kind: Service
metadata:
  name: agent-society-relay
  namespace: agent-society
  labels:
    app.kubernetes.io/name: agent-society
    app.kubernetes.io/component: relay
spec:
  clusterIP: None
  selector:
    app.kubernetes.io/name: agent-society
    app.kubernetes.io/component: agent-society
  ports:
    - name: ws
      port: 7100
      targetPort: ws
      protocol: TCP
